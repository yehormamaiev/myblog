{% extends "posts/base.html" %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="container my-5">

    <!-- Кнопка назад -->
    <div class="mb-4">
        <button onclick="window.history.back()" class="btn btn-outline-secondary rounded-3">
            ← Назад
        </button>
    </div>

    <div class="card border-0 shadow-lg rounded-4">


        <div class="card-body px-4 py-5">
            <h1 class="card-title display-5 fw-bold mb-3">{{ post.title }}</h1>

            <p class="text-muted mb-4">
                Опубліковано: {{ post.created_at|date:"d.m.Y H:i" }} |
                Категорія:
                <a href="{% url 'category_posts' post.category.slug %}" class="text-decoration-none">
                    {{ post.category.name }}
                </a>
            </p>

            <div class="post-content mb-4" style="font-size:1.1rem; line-height:1.8;">
                {{ post.content|linebreaks }}
            </div>
        {% if post.image %}
            <img src="{{ post.image.url }}" alt="{{ post.title }}" class="card-img-top rounded-top-4"
                 style="width:100%; max-height:600px; object-fit:cover;">
        {% endif %}
            {% if post.video %}
                <div class="mb-4">
                    <video width="100%" controls class="rounded-3 shadow-sm">
                        <source src="{{ post.video.url }}" type="video/mp4">
                        Ваш браузер не підтримує відео.
                    </video>
                </div>
            {% endif %}

            <!-- Кнопка повернення до категорії -->
            <a href="{% url 'category_posts' post.category.slug %}"
               class="btn btn-primary btn-lg rounded-3">
                ← Повернутись до категорії
            </a>
        </div>
    </div>
</div>
{% endblock %}
